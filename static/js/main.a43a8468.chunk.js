(this.webpackJsonpmovie=this.webpackJsonpmovie||[]).push([[0],{132:function(e,t,n){e.exports=n(216)},216:function(e,t,n){"use strict";n.r(t);var a=n(0),i=n.n(a),r=n(3),o=n.n(r),c=(n(98),n(31)),l=(n(100),n(34)),s=n(15),u=n(16),m=n(19),p=n(17),h=n(20),d=function(e){function t(){return Object(s.a)(this,t),Object(m.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return i.a.createElement("div",null,"Home")}}]),t}(a.Component),f=(n(217),n(126)),g=(n(101),n(73)),b=(n(144),n(127)),v=n(27),y=n(28);function E(){var e=Object(v.a)(["\n  margin-top: 20px;\n"]);return E=function(){return e},e}function j(){var e=Object(v.a)(["\n  padding: 10px;\n  margin: 0px auto;\n  display: block;\n"]);return j=function(){return e},e}function O(){var e=Object(v.a)(["\n  font-size: 30px;\n"]);return O=function(){return e},e}function k(){var e=Object(v.a)(["\n  text-align: center;\n"]);return k=function(){return e},e}function x(){var e=Object(v.a)(["\n  margin: 0;\n  padding: 0;\n"]);return x=function(){return e},e}function L(){var e=Object(v.a)(["\n  margin: 0;\n  padding: 0;\n"]);return L=function(){return e},e}function C(){var e=Object(v.a)(["\n  margin-top: 10px;\n"]);return C=function(){return e},e}function S(){var e=Object(v.a)(["\n  width: 100px;\n  height: 140px;\n"]);return S=function(){return e},e}function w(){var e=Object(v.a)(["\n  padding: 4px;\n  border-radius: 2px;\n  margin: 6px;\n  width: 170px;\n  height: 300px;\n  cursor: pointer;\n  text-align: center;\n  border: 1px solid #ddd;\n  box-shadow: 0 0 8px #ddd;\n  trsndition: all 0.5s ease;\n  &:hover{\n    opacity: 0.9;\n    transform: scale(1.03) rotate(1deg);\n  }\n"]);return w=function(){return e},e}function D(){var e=Object(v.a)(["\n  display: inline-flex;\n"]);return D=function(){return e},e}var I=y.a.div(D()),z=y.a.div(w()),M=y.a.img.attrs((function(e){return{src:e.imgUrl}}))(S()),P=y.a.h4(C()),_=y.a.h4(L()),T=y.a.h4(x()),U=y.a.div(k()),H=y.a.p(O()),A=y.a.img.attrs((function(e){return{src:e.imgUrl}}))(j()),B=y.a.p(E()),F=function(e){function t(){return Object(s.a)(this,t),Object(m.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(u.a)(t,[{key:"goDetailPage",value:function(){this.props.history.push("/movie/detail/".concat(this.props.id))}},{key:"render",value:function(){return i.a.createElement(I,{onClick:this.goDetailPage.bind(this)},i.a.createElement(z,null,i.a.createElement(M,{imgUrl:this.props.images.small.replace("img3.doubanio.com","img1.doubanio.com")}),i.a.createElement(P,null,"\u7535\u5f71\u540d\u79f0\uff1a",this.props.title),i.a.createElement(_,null,"\u4e0a\u6620\u5e74\u4efd\uff1a",this.props.year),i.a.createElement(T,null,"\u7535\u5f71\u7c7b\u578b\uff1a",this.props.genres.join("\uff0c")),i.a.createElement(b.a,{disabled:!0,defaultValue:Math.ceil(.5*this.props.rating.average)})))}}]),t}(i.a.Component),K=n(72),N=n.n(K),J=function(e){function t(e){var n;return Object(s.a)(this,t),(n=Object(m.a)(this,Object(p.a)(t).call(this,e))).loadMovieList=function(){var e=n.state.pageSize*(n.state.nowPage-1),t="https://api.douban.com/v2/movie/".concat(n.state.movieType,"?apikey=0df993c66c0c636e29ecbb5344252a4a&start=").concat(e,"&count=").concat(n.state.pageSize);N()(t).then((function(e){return e.json()})).then((function(e){n.setState({movies:e.subjects,isLoading:!1,total:e.total})}))},n.state={movies:[],nowPage:parseInt(e.match.params.page)||1,pageSize:14,total:0,isLoading:!0,movieType:e.match.params.type},n}return Object(h.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){this.loadMovieList()}},{key:"UNSAFE_componentWillReceiveProps",value:function(e){var t=this;this.setState((function(){return{isLoading:!0,movieType:e.match.params.type||1,nowPage:e.match.params.page}}),(function(){t.loadMovieList()}))}},{key:"pageChanged",value:function(e){this.props.history.push("/movie/".concat(this.state.movieType,"/").concat(e))}},{key:"renderList",value:function(){var e=this;return this.state.isLoading?i.a.createElement(g.a,{tip:"Loading...",style:{fontSize:"30px",marginLeft:"50%"}}):i.a.createElement("div",null,i.a.createElement("div",null,this.state.movies.map((function(t){return i.a.createElement(F,Object.assign({},t,{key:t.id,history:e.props.history}))}))),i.a.createElement("div",{style:{width:"100%",textAlign:"center"}},i.a.createElement(f.a,{defaultCurrent:parseInt(this.state.nowPage),pageSize:this.state.pageSize,total:parseInt(this.state.total),onChange:this.pageChanged.bind(this)})))}},{key:"render",value:function(){return i.a.createElement("div",null,this.renderList())}}]),t}(a.Component),R=(n(211),n(128)),V=(n(213),n(9)),W=function(e){function t(e){var n;return Object(s.a)(this,t),(n=Object(m.a)(this,Object(p.a)(t).call(this,e))).state={title:"",image:"",info:"",isLoading:!0},n}return Object(h.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){this.getDetailData()}},{key:"getDetailData",value:function(){var e=this,t=this.props.match.params.id,n="https://api.douban.com/v2/movie/subject/".concat(t,"?apikey=0df993c66c0c636e29ecbb5344252a4a");N()(n).then((function(e){return e.json()})).then((function(t){e.setState({title:t.title,image:t.images.large,info:t.summary,isLoading:!1})}))}},{key:"render",value:function(){return i.a.createElement(a.Fragment,null,this.renderDetail())}},{key:"renderDetail",value:function(){return this.state.isLoading?i.a.createElement(g.a,{tip:"Loading...",style:{fontSize:"30px",marginLeft:"50%"}}):i.a.createElement("div",null,i.a.createElement(R.a,{type:"primary",onClick:this.goBackMovieList.bind(this)},i.a.createElement(V.a,{type:"left"}),"\u8fd4\u56de\u7535\u5f71\u5217\u8868"),i.a.createElement(U,null,i.a.createElement(H,null,this.state.title),i.a.createElement(A,{imgUrl:this.state.image.replace("img3","img1")}),i.a.createElement(B,null,this.state.info)))}},{key:"goBackMovieList",value:function(){this.props.history.go(-1)}}]),t}(a.Component),q=n(35),G=n(41),Q=function(e){function t(){return Object(s.a)(this,t),Object(m.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=l.a.Content,t=l.a.Sider;return console.log(this.props),i.a.createElement(l.a,null,i.a.createElement(t,{width:200,style:{background:"#fff"}},i.a.createElement(c.a,{mode:"inline",defaultSelectedKeys:[this.props.location.pathname.split("/")[2]],defaultOpenKeys:["sub1"],style:{height:"100%",borderRight:0}},i.a.createElement(c.a.Item,{key:"in_theaters"},i.a.createElement(q.b,{to:"/movie/in_theaters/1"},"\u6b63\u5728\u70ed\u6620")),i.a.createElement(c.a.Item,{key:"coming_soon"},i.a.createElement(q.b,{to:"/movie/coming_soon/1"},"\u5373\u5c06\u4e0a\u6620")),i.a.createElement(c.a.Item,{key:"top250"},i.a.createElement(q.b,{to:"/movie/top250/1"},"Top250")))),i.a.createElement(l.a,{style:{paddingLeft:"1px"}},i.a.createElement(e,{style:{background:"#fff",padding:10,margin:0,minHeight:280}},i.a.createElement(G.c,null,i.a.createElement(G.a,{path:"/movie/detail/:id",exact:!0,component:W}),i.a.createElement(G.a,{path:"/movie/:type/:page",exact:!0,component:J})))))}}]),t}(a.Component),X=function(e){function t(){return Object(s.a)(this,t),Object(m.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return i.a.createElement("div",null,"About")}}]),t}(a.Component),Y=function(e){function t(){return Object(s.a)(this,t),Object(m.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=l.a.Header,t=l.a.Content;return i.a.createElement(q.a,null,i.a.createElement(a.Fragment,null,i.a.createElement(l.a,{className:"layout",style:{height:"100%"}},i.a.createElement(e,null,i.a.createElement("div",{className:"logo"}),i.a.createElement(c.a,{theme:"dark",mode:"horizontal",defaultSelectedKeys:[window.location.pathname.split("/")[1]],style:{lineHeight:"64px"}},i.a.createElement(c.a.Item,{key:"home"},i.a.createElement(q.b,{to:"/home"},"\u9996\u9875")),i.a.createElement(c.a.Item,{key:"movie"},i.a.createElement(q.b,{to:"/movie/in_theaters/1"},"\u7535\u5f71")),i.a.createElement(c.a.Item,{key:"about"},i.a.createElement(q.b,{to:"/about"},"\u5173\u4e8e")))),i.a.createElement(t,{style:{backgroundColor:"#fff",flex:1}},i.a.createElement(G.a,{path:"/home",component:d}),i.a.createElement(G.a,{path:"/movie",component:Q}),i.a.createElement(G.a,{path:"/about",component:X})))))}}]),t}(a.Component);o.a.render(i.a.createElement(Y,null),document.getElementById("root"))}},[[132,1,2]]]);
//# sourceMappingURL=main.a43a8468.chunk.js.map