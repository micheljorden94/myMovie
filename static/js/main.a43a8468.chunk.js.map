{"version":3,"sources":["components/home/Home.js","components/movie/style.js","components/movie/MovieItem.js","components/movie/MovieList.js","components/movie/MovieDetail.js","components/movie/Movie.js","components/about/About.js","App.js","index.js"],"names":["Home","Component","MovieItemContainer","styled","div","MovieItemWrapper","MovieItemImage","img","attrs","props","src","imgUrl","MovieItemTitle","h4","MovieItemYear","MovieItemGenres","MovieDetailWrapper","MovieDetailTitle","p","MovieDetailImage","MovieDetailArticle","MoveItem","this","history","push","id","onClick","goDetailPage","bind","images","small","replace","title","year","genres","join","disabled","defaultValue","Math","ceil","rating","average","React","MovieList","loadMovieList","start","state","pageSize","nowPage","url","movieType","fetchJSONP","then","response","json","data","setState","movies","subjects","isLoading","total","parseInt","match","params","page","type","nextProps","tip","style","fontSize","marginLeft","map","item","MovieItem","key","width","textAlign","defaultCurrent","onChange","pageChanged","renderList","MovieDetail","image","info","getDetailData","result","large","summary","renderDetail","goBackMovieList","go","Movie","Content","Sider","console","log","background","mode","defaultSelectedKeys","location","pathname","split","defaultOpenKeys","height","borderRight","Item","to","paddingLeft","padding","margin","minHeight","path","exact","component","About","App","Header","className","theme","window","lineHeight","backgroundColor","flex","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.a43a8468.chunk.js","sourcesContent":["import React, {Component} from 'react';\r\n\r\nclass Home extends Component{\r\n  render() {\r\n    return (\r\n      <div>Home</div>\r\n    )\r\n  }\r\n}\r\n\r\nexport default Home;","import styled from 'styled-components';\r\n\r\nexport const MovieItemContainer = styled.div`\r\n  display: inline-flex;\r\n`;\r\nexport const MovieItemWrapper = styled.div`\r\n  padding: 4px;\r\n  border-radius: 2px;\r\n  margin: 6px;\r\n  width: 170px;\r\n  height: 300px;\r\n  cursor: pointer;\r\n  text-align: center;\r\n  border: 1px solid #ddd;\r\n  box-shadow: 0 0 8px #ddd;\r\n  trsndition: all 0.5s ease;\r\n  &:hover{\r\n    opacity: 0.9;\r\n    transform: scale(1.03) rotate(1deg);\r\n  }\r\n`;\r\n\r\nexport const MovieItemImage = styled.img.attrs(props => ({\r\n  src: props.imgUrl\r\n}))`\r\n  width: 100px;\r\n  height: 140px;\r\n`;\r\n\r\nexport const MovieItemTitle = styled.h4`\r\n  margin-top: 10px;\r\n`;\r\nexport const MovieItemYear = styled.h4`\r\n  margin: 0;\r\n  padding: 0;\r\n`;\r\nexport const MovieItemGenres = styled.h4`\r\n  margin: 0;\r\n  padding: 0;\r\n`;\r\n\r\nexport const MovieDetailWrapper = styled.div`\r\n  text-align: center;\r\n`;\r\n\r\nexport const MovieDetailTitle = styled.p`\r\n  font-size: 30px;\r\n`;\r\n\r\nexport const MovieDetailImage = styled.img.attrs((props) => ({\r\n  src: props.imgUrl\r\n}))`\r\n  padding: 10px;\r\n  margin: 0px auto;\r\n  display: block;\r\n`;\r\n\r\nexport const MovieDetailArticle = styled.p`\r\n  margin-top: 20px;\r\n`;","import React from 'react';\r\nimport { Rate } from 'antd';\r\nimport { MovieItemContainer, MovieItemWrapper, MovieItemImage, MovieItemTitle, MovieItemGenres, MovieItemYear } from './style';\r\n\r\nclass MoveItem extends React.Component{\r\n\r\n  goDetailPage () {\r\n    this.props.history.push(`/movie/detail/${this.props.id}`)\r\n  }\r\n\r\n  render() {\r\n    return (\r\n        <MovieItemContainer onClick={this.goDetailPage.bind(this)}>\r\n          <MovieItemWrapper>\r\n            <MovieItemImage imgUrl={this.props.images.small.replace(\r\n              'img3.doubanio.com','img1.doubanio.com'\r\n            )}>\r\n            </MovieItemImage>\r\n            <MovieItemTitle>电影名称：{this.props.title}</MovieItemTitle>\r\n            <MovieItemYear>上映年份：{this.props.year}</MovieItemYear>\r\n            <MovieItemGenres>电影类型：{this.props.genres.join('，')}</MovieItemGenres>\r\n            <Rate disabled defaultValue={Math.ceil(this.props.rating.average*0.5)}/>\r\n          </MovieItemWrapper>\r\n        </MovieItemContainer>\r\n    )\r\n  }\r\n}\r\n\r\nexport default MoveItem;","import React, {Component} from 'react';\r\nimport MovieItem from './MovieItem';\r\nimport { Spin, Pagination } from 'antd';\r\nimport fetchJSONP from 'fetch-jsonp';\r\nclass MovieList extends Component{\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      movies: [], //电影列表\r\n      nowPage: parseInt(props.match.params.page) || 1, //当前展示第几页的数据\r\n      pageSize: 14, //每页展示多少条数据\r\n      total: 0, //当前电影分类下总共有多少条\r\n      isLoading: true,  //正在加载的动画 使用antd插件中的spin\r\n      movieType: props.match.params.type\r\n    };\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.loadMovieList();\r\n  }\r\n\r\n  UNSAFE_componentWillReceiveProps (nextProps) {\r\n    this.setState(() => ({\r\n      isLoading: true,\r\n      movieType: nextProps.match.params.type || 1,\r\n      nowPage: nextProps.match.params.page\r\n    }),() => {\r\n      this.loadMovieList();\r\n    });\r\n  }\r\n\r\n  loadMovieList = () => {\r\n    const start = this.state.pageSize * (this.state.nowPage - 1);\r\n    const url = `https://api.douban.com/v2/movie/${this.state.movieType}?apikey=0df993c66c0c636e29ecbb5344252a4a&start=${start}&count=${this.state.pageSize}`\r\n    \r\n    fetchJSONP(url)\r\n    .then(response => response.json())\r\n    .then(data => {\r\n      this.setState({\r\n        movies: data.subjects,\r\n        isLoading: false,\r\n        total: data.total\r\n      });\r\n    })\r\n  }\r\n\r\n  pageChanged(page) {\r\n    this.props.history.push(`/movie/${this.state.movieType}/${page}`);\r\n  }\r\n\r\n  renderList() {\r\n    if(this.state.isLoading){\r\n      return (\r\n        <Spin tip=\"Loading...\" style={{fontSize: '30px',marginLeft: '50%'}}>\r\n        </Spin>\r\n      )\r\n    }else{\r\n      return (\r\n        <div>\r\n          <div>\r\n          {\r\n            this.state.movies.map((item) => {\r\n              return <MovieItem {...item} key={item.id} history={this.props.history}/>\r\n            })\r\n          }\r\n          </div>\r\n          <div style={{width: '100%', textAlign: 'center'}}>\r\n            <Pagination\r\n              defaultCurrent={parseInt(this.state.nowPage)}\r\n              pageSize={this.state.pageSize}\r\n              total={parseInt(this.state.total)}\r\n              onChange={this.pageChanged.bind(this)}\r\n            >\r\n            </Pagination>\r\n          </div>\r\n        </div>\r\n      )\r\n    }\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div>\r\n        {this.renderList()}\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nexport default MovieList;","import React, { Component, Fragment } from 'react';\r\nimport { Button, Icon } from 'antd';\r\nimport { Spin } from 'antd';\r\nimport fetchJSONP from 'fetch-jsonp';\r\nimport { MovieDetailWrapper, MovieDetailTitle, MovieDetailImage, MovieDetailArticle } from './style';\r\n\r\nclass MovieDetail extends Component{\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      title: '',\r\n      image: '',\r\n      info: '',\r\n      isLoading: true\r\n    };\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.getDetailData();\r\n  }\r\n\r\n  getDetailData() {\r\n    const id = this.props.match.params.id;\r\n    const url = `https://api.douban.com/v2/movie/subject/${id}?apikey=0df993c66c0c636e29ecbb5344252a4a`;\r\n\r\n    fetchJSONP(url).then((response => {\r\n      return response.json();\r\n    })).then((result) => {\r\n      this.setState({\r\n        title: result.title,\r\n        image: result.images.large,\r\n        info: result.summary,\r\n        isLoading: false\r\n      });\r\n    });\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <Fragment>\r\n        {this.renderDetail()}\r\n      </Fragment>\r\n    )\r\n  }\r\n\r\n  renderDetail() {\r\n    if(this.state.isLoading){\r\n      return (\r\n        <Spin tip=\"Loading...\" style={{fontSize: '30px',marginLeft: '50%'}}>\r\n        </Spin>\r\n      )\r\n    }else{\r\n      return(\r\n        <div>\r\n          <Button type='primary' onClick={this.goBackMovieList.bind(this)}>\r\n            <Icon type='left' />\r\n            返回电影列表\r\n          </Button>\r\n          <MovieDetailWrapper>\r\n            <MovieDetailTitle>{this.state.title}</MovieDetailTitle>\r\n            <MovieDetailImage imgUrl={this.state.image.replace('img3', 'img1')}></MovieDetailImage>\r\n            <MovieDetailArticle>{this.state.info}</MovieDetailArticle>\r\n          </MovieDetailWrapper>\r\n        </div>\r\n      )\r\n    }\r\n  }\r\n\r\n  goBackMovieList() {\r\n    this.props.history.go(-1);\r\n  }\r\n}\r\n\r\nexport default MovieDetail;","import React, {Component} from 'react';\r\nimport MovieList from './MovieList';\r\nimport MovieDetail from './MovieDetail';\r\nimport { Link, Route, Switch } from 'react-router-dom';\r\nimport { Layout, Menu } from 'antd';\r\n\r\nclass Movie extends Component{\r\n\r\n\r\n  render() {\r\n    const { Content, Sider } = Layout;\r\n    console.log(this.props)\r\n    return (\r\n      <Layout>\r\n      <Sider width={200} style={{ background: '#fff' }}>\r\n        <Menu\r\n          mode=\"inline\"\r\n          defaultSelectedKeys={[this.props.location.pathname.split('/')[2]]}\r\n          defaultOpenKeys={['sub1']}\r\n          style={{ height: '100%', borderRight: 0 }}\r\n        >\r\n          <Menu.Item key=\"in_theaters\">\r\n            <Link to='/movie/in_theaters/1'>正在热映</Link>\r\n          </Menu.Item>\r\n          <Menu.Item key=\"coming_soon\">\r\n            <Link to='/movie/coming_soon/1'>即将上映</Link>\r\n          </Menu.Item>\r\n          <Menu.Item key=\"top250\">\r\n            <Link to='/movie/top250/1'>Top250</Link>\r\n          </Menu.Item>\r\n        </Menu>\r\n      </Sider>\r\n      <Layout style={{ paddingLeft: '1px' }}>\r\n        <Content\r\n          style={{\r\n            background: '#fff',\r\n            padding: 10,\r\n            margin: 0,\r\n            minHeight: 280,\r\n          }}\r\n        >\r\n        <Switch>\r\n          <Route path='/movie/detail/:id' exact component={MovieDetail}></Route>\r\n          <Route path='/movie/:type/:page' exact component={MovieList}></Route>\r\n        </Switch>\r\n        </Content>\r\n      </Layout>\r\n    </Layout>\r\n    )\r\n  }\r\n}\r\n\r\nexport default Movie;","import React, {Component} from 'react';\r\n\r\nclass About extends Component{\r\n  render() {\r\n    return (\r\n      <div>About</div>\r\n    )\r\n  }\r\n}\r\n\r\nexport default About;","import React, { Component, Fragment } from 'react';\nimport { Layout, Menu } from 'antd';\nimport Home from './components/home/Home'; \nimport Movie from './components/movie/Movie'; \nimport About from './components/about/About'; \nimport {\n  BrowserRouter as Router,\n  Route,\n  Link\n} from \"react-router-dom\";\n\n\nclass App extends Component{\n\n  render() {\n    const { Header, Content } = Layout;\n    return (\n      <Router>\n        <Fragment>\n        <Layout className=\"layout\" style={{height: '100%'}}>\n            <Header>\n              <div className=\"logo\" />\n              <Menu\n                theme=\"dark\"\n                mode=\"horizontal\"\n                defaultSelectedKeys={[window.location.pathname.split('/')[1]]}\n                style={{ lineHeight: '64px' }}\n              >\n                <Menu.Item key=\"home\">\n                  <Link to='/home'>首页</Link>\n                </Menu.Item>\n                <Menu.Item key=\"movie\">\n                  <Link to='/movie/in_theaters/1'>电影</Link>\n                </Menu.Item>\n                <Menu.Item key=\"about\">\n                  <Link to='/about'>关于</Link>\n                </Menu.Item>\n              </Menu>\n            </Header>\n            <Content style={{backgroundColor: '#fff', flex: 1 }}>\n              <Route path='/home' component={Home}></Route>\n              <Route path='/movie' component={Movie}></Route>\n              <Route path='/about' component={About}></Route>\n            </Content>\n          </Layout>\n        </Fragment>\n      </Router>\n    );\n  }\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(<App />, document.getElementById('root'));\n"],"sourceRoot":""}